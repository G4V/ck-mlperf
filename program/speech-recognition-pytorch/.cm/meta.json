{
  "backup_data_uid": "7c66e43968497e17",
  "data_name": "speech-recognition-pytorch",
  "no_compile": "yes",
  "no_target_file": "yes",
  "process_in_tmp": "yes",
  "program": "yes",
  "run_cmds": {
    "default": {
      "ignore_return_code": "no",
      "run_time": {
        "run_cmd_main": "$<<CK_ENV_COMPILER_PYTHON_FILE>>$ $<<CK_ENV_MLPERF_INFERENCE>>$/v0.7/speech_recognition/rnnt/pytorch/inference.py --dataset_dir  $<<CK_RNNT_DATASET>>$ --val_manifest $<<CK_RNNT_MANIFEST>>$ --model_toml $<<CK_RNNT_TOML>>$ --ckpt $<<CK_RNNT_CHECKPOINT>>$  --batch_size $<<CK_RNNT_BATCH_SIZE>>$ --seed $<<CK_RNNT_SEED>>$ --max_duration $<<CK_RNNT_MAX_DURATION>>$"
      }
    },
    "instr": {
      "ignore_return_code": "no",
      "run_time": {
        "post_process_via_ck": {
          "data_uoa": "speech-recognition",
          "module_uoa": "script",
          "script_name": "postprocess"
        },
        "run_cmd_main": "$<<CK_ENV_COMPILER_PYTHON_FILE>>$ $<<CK_ENV_MLPERF_INFERENCE>>$/v0.7/speech_recognition/rnnt/pytorch/inference.py --dataset_dir  $<<CK_RNNT_DATASET>>$ --val_manifest $<<CK_RNNT_MANIFEST>>$ --model_toml $<<CK_RNNT_TOML>>$ --ckpt $<<CK_RNNT_CHECKPOINT>>$  --batch_size $<<CK_RNNT_BATCH_SIZE>>$ --seed $<<CK_RNNT_SEED>>$ --max_duration $<<CK_RNNT_MAX_DURATION>>$ --instr"
      }
    }
  },
  "run_deps": {
    "dataset": {
      "local": "yes",
      "name": "LibriSpeech Dev-Clean dataset (preprocessed)",
      "sort": 20,
      "tags": "dataset,librispeech,preprocessed,wav,dev-clean"
    },
    "mlperf-inference": {
      "local": "yes",
      "name": "MLPerf Inference source (with RNN-T tweaks)",
      "sort": 50,
      "tags": "mlperf,inference,source,dividiti.rnnt"
    },
    "model": {
      "local": "yes",
      "name": "PyTorch RNN-T model",
      "sort": 80,
      "tags": "model,pytorch,rnnt"
    },
    "python": {
      "local": "yes",
      "name": "Python interpreter",
      "sort": 5,
      "tags": "compiler,python"
    },
    "pytorch": {
      "local": "yes",
      "name": "PyTorch framework",
      "sort": 15,
      "tags": "lib,pytorch"
    }
  },
  "run_vars": {
    "CK_RNNT_BATCH_SIZE": "2",
    "CK_RNNT_CHECKPOINT": "$<<CK_ENV_MODEL_PYTORCH>>$/rnnt.pt",
    "CK_RNNT_DATASET": "$<<CK_ENV_DATASET_AUDIO_PREPROCESSED_DIR>>$/../",
    "CK_RNNT_MANIFEST": "$<<CK_ENV_DATASET_AUDIO_PREPROCESSED_DIR>>$/wav-list.json",
    "CK_RNNT_SEED": "87",
    "CK_RNNT_TOML": "$<<CK_ENV_MLPERF_INFERENCE>>$/v0.7/speech_recognition/rnnt/pytorch/configs/rnnt.toml",
    "CK_RNNT_MAX_DURATION": 3600.0
  },
  "tags": [
    "speech-recognition",
    "pytorch",
    "rnnt",
    "rnn-t",
    "mlperf",
    "experimental",
    "exp"
  ]
}
